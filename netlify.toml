[build]
  command = "pnpm rebuild && pnpm build"
  publish = "dist/"

[build.processing.html]
  # Rewrite link URLs to pretty URLs (/about.html -> /about, /about/index.html -> /about/)
  pretty_urls = true

[context.branch-deploy]
  # Build and publish the branch-deploy context
  # `cp ./netlify/_noIndexHeaders ./dist/_headers` to add noindex headers
  command = "pnpm rebuild && pnpm build && cp ./netlify/_noIndexHeaders ./dist/_headers"
  publish = "dist/"

[[redirects]]
  # get contents from dist/* by accessing /2025/*
  from = "/2025/*"
  to = "https://vuefes-2025.netlify.app/:splat"
  status = 200

[[redirects]]
  # redirect all requests to /2025/:splat
  from = "/*"
  to = "/2025/:splat"
  status = 301
